---
import { Protected } from "../atomic/molecules/Protected";
import { SignOutButton } from "../atomic/atoms/SignOutButton";
import Layout from "../layouts/Layout.astro";
import { navigate } from "astro/virtual-modules/transitions-router.js";
import { CreateProductButton } from "../atomic/atoms/CreateProductButton";

const data = Astro.locals.user;
const tt = Astro.locals;

(() => {
  console.log("jiji", { data }, { tt });
  if (!data) return navigate("/signin");
})();

// const onCreateProductForm = () => {
//   navigate("/createProduct");
// };
---

<Layout>
  <main>
    <h1>Inventory</h1>
    <CreateProductButton client:idle />
    <SignOutButton client:idle />
    <Protected client:idle />
  </main>
</Layout>
